mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "twitter" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "instagram" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" & kword == "bosch") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillips %>%
group_by(type) %>%
summarise(N = n()) %>%
ungroup() %>%
mutate(Tot = sum(N),
'Udio %' = (N / Tot)*100) %>%
select(-Tot) %>%
arrange(desc(N)) %>%
filter(type != "comment") %>%
rename(Medij = type,
'Broj objava' = N) %>%
kbl(caption = "Broj objava po medijima") %>%
kable_paper(bootstrap_options = "striped",full_width = F, position = "right")
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" & kword == "braun") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "instagram" & kword == "braun") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "instagram" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "forum" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
# filter(SOURCE_TYPE == "forum" & kword == "phillips") %>%
unnest_tokens(word, MENTION_SNIPPET) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
# filter(SOURCE_TYPE == "forum" & kword == "phillips") %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "forum" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "forum" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "web" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "twitter" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "instagram" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
phillipstxt %>%
mutate(kword = case_when(grepl("phill", MENTION_SNIPPET, ignore.case = TRUE) ~ "phillips",
grepl("bosch", MENTION_SNIPPET, ignore.case = TRUE) ~ "bosch",
grepl("braun", MENTION_SNIPPET, ignore.case = TRUE) ~ "braun",
grepl("dyson", MENTION_SNIPPET, ignore.case = TRUE) ~ "dyson")) %>%
filter(SOURCE_TYPE == "facebook" ) %>%
unnest_tokens(word, TITLE) %>%
anti_join(stop_corpus, by = "word") %>%
inner_join(CroSentilex_Gold, by = "word") %>%
count(word, sentiment, sort = TRUE) -> sg
sg %>%
group_by(sentiment) %>%
top_n(20) %>%
ungroup() %>%
mutate(sentiment = case_when(sentiment == 0 ~ "NEUTRALNO",
sentiment == 1 ~ "NEGATIVNO",
sentiment == 2 ~ "POZITIVNO")) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = FALSE) +
ggtitle( "Doprinos sentimentu") +
labs( x = "Rijec", y = "Broj rijeci") +
facet_wrap(~ sentiment, scales = "free_y") +
coord_flip() +
theme_economist()-> gg_doprinos_sentimentu
gg_doprinos_sentimentu
knitr::opts_chunk$set(echo = TRUE, cache = F)
library(kableExtra)
library(ggplot2)
library(ggthemes)
library(scales)
library(tidyverse)
library(httr)
library(lubridate)
library(dplyr)
library(data.table)
library(tidytext)
library(plotly)
source(here::here('Creds', 'api.R'))
#source("./Creds/api.R")
groups <- "185076"
keywords <- "6528081"
from_time <- as.character(as.numeric(as.POSIXlt("2021-10-06", format="%Y-%m-%d")))
to_time <- as.character(as.numeric(as.POSIXlt("2022-01-06", format="%Y-%m-%d")))
count <- 2700
probs <- paste0("https://api.mediatoolkit.com/organizations/126686/groups/",groups,
"/keywords/",keywords,
"/mentions?access_token=",token,
"&from_time=",from_time,
"&to_time=",to_time,
"&count=",count,
"&sort=time&type=all&offset=0&ids_only=false")
API_zahtjev <- httr::GET(probs)
jS_tekst <- httr::content(API_zahtjev, as = "text", type = "aplication/json", encoding = "UTF-8")
DF_za_analizu <- jsonlite::fromJSON(jS_tekst, flatten = TRUE)
dta <- data.frame(DF_za_analizu$data)
dta
phillips <- dta %>%
select(keyword = response.keywords,
reach = response.reach,
time = response.insert_time,
description = response.description,
type = response.type,
title = response.title,
mention = response.mention,
from = response.from,
author = response.author,
url = response.url,
domain = response.domain,
comment = response.comment_count,
engagement = response.engagement_rate,
like = response.like_count,
prValue = response.pr_value,
virality = response.virality,
share = response.share_count,
interaction = response.interaction,
ytID = response.youtube_channel_id,
txt = response.full_mention,
view = response.view_count)
phillips
