lastvideo
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
as.Date(.,format="%b %d %Y")
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
strptime(.,format="%b %d %Y")
lastvideo
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
strptime(.,format="%b %d %Y")
lastvideo
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y")
library(lubridate)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y")
lastvideo
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.)
lastvideo
meta$X5
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y")
lastvideo
meta$X5 %>%
gsub("Latest Video: ", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y")
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
lastvideo
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, links, genre, subscribers, videos,
views, lastvideo,# link_proizvod, # brand_,
stringsAsFactors = FALSE)
description <- cbind.data.frame(names, links, genre, subscribers, videos,
views, lastvideo,# link_proizvod, # brand_,
stringsAsFactors = FALSE)
url  <- "https://channelcrawler.com/eng/results/48267/sort:Channel.subscribers/direction:desc"
page <- read_html(url)
name <- page %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
links <- page %>%
html_nodes(., "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <- page %>%
html_nodes(.,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- page %>%
html_nodes(.,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(names, links, genre, subscribers, videos,
views, lastvideo,# link_proizvod, # brand_,
stringsAsFactors = FALSE)
description <- cbind.data.frame(name, links, genre, subscribers, videos,
views, lastvideo, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
description
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link # link_proizvod, # brand_,
stringsAsFactors = FALSE)
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
name <- page %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- page %>%
html_nodes(., "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <- page %>%
html_nodes(.,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- page %>%
html_nodes(.,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
description
proizvodaci <- read_html("https://www.mojaljekarna.hr/proizvodjaci", encoding = "UTF-8") %>%
html_node(xpath = "//*[@id='main']/div") %>%
html_nodes("a") %>%
html_attr("href") %>%
.[str_detect(., "/\\d+")]
proizvodaci
parsanjeProizvoda <- function(url) {
name <- html_nodes(url, "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- html_nodes(url, "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <-  html_nodes(url,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- html_nodes(url,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(decription)
}
parskanjeProizvoda(url)
parsanjeProizvoda(url)
page  <- "https://channelcrawler.com/eng/results/48267/sort:Channel.subscribers/direction:desc"
url <- read_html(url)
parsanjeProizvoda(url)
parsanjeProizvoda <- function(url) {
name <- html_nodes(url, "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- html_nodes(url, "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <-  html_nodes(url,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- html_nodes(url,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(description)
}
parsanjeProizvoda(url)
parser <- function(url) {
name <- html_nodes(url, "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- html_nodes(url, "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <-  html_nodes(url,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- html_nodes(url,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.)
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(description)
}
page2 <- "https://www.channelcrawler.com/eng/results/48267/sort:Channel.subscribers/direction:desc/page:2"
url <- read_html(page2)
parser(url)
nums <- seq(1:50)
nums <- seq(2:50)
nums
nums <- seq(3:50)
nums
nums <- seq(3:50,1)
nums <- seq(2,50)
nums
links <- c(page, paste("https://www.channelcrawler.com/eng/results/48267/page:",nums[i]))
links <- c(page, paste("https://www.channelcrawler.com/eng/results/48267/page:",nums))
links
links <- c(page,
paste("https://www.channelcrawler.com/eng/results/48267/page:"
,nums,
"/sort:Channel.subscribers/direction:desc"))
links
links <- c(page,
paste0("https://www.channelcrawler.com/eng/results/48267/page:"
,nums,
"/sort:Channel.subscribers/direction:desc"))
links
lista <- list()
for(k in seq_along(links)) {
lista[[k]] <- parser(links)#,o) #, brand)
}
parser <- function(url) {
name <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <-  html_nodes(url,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- read_html(url) %>%
html_nodes(.,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(description)
}
lista <- list()
for(k in seq_along(links)) {
lista[[k]] <- parser(links)
}
links
all <- lapply(links, parser)
name <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
rm(list=ls())
parser <- function(url) {
name <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <-  html_nodes(url,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- read_html(url) %>%
html_nodes(.,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(description)
}
page  <- "https://channelcrawler.com/eng/results/48267/sort:Channel.subscribers/direction:desc"
nums <- seq(2,50)
links <- c(page,
paste0("https://www.channelcrawler.com/eng/results/48267/page:"
,nums,
"/sort:Channel.subscribers/direction:desc"))
all <- lapply(links, parser)
links
name <- read_html("https://www.channelcrawler.com/eng/results/48267/page:35/sort:Channel.subscribers/direction:desc") %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
name
View(links)
parser(links[3])
parser <- function(url) {
name <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(., "a") %>%
html_attr(.,"title")
link <- read_html(url) %>%
html_nodes(., "h4") %>%
html_nodes(.,"a") %>%
html_attr(.,"href")
genre <- read_html(url) %>%
html_nodes(.,  "b") %>%
.[seq(1,length(.),2)] %>%
html_text()
meta <- read_html(url) %>%
html_nodes(.,"#main-content.container") %>%
html_nodes(.,  "p") %>%
html_nodes(., "small") %>%
.[seq(1,length(.),2)] %>%
html_text() %>%
str_replace_all(., "[\t]" , "") %>%
gsub("\n", "-", .) %>%
data.frame(do.call("rbind", strsplit(as.character(.), "-", fixed = TRUE))) %>%
select(X2:X5)
subscribers <- meta$X2 %>%
gsub(" Subscribers", "",. ) %>%
gsub("M", "000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
videos <- meta$X3 %>%
gsub(" Videos","",.) %>%
as.numeric()
views <- meta$X4 %>%
gsub(" Total Views","",.) %>%
gsub("B", "00000000",.) %>%
gsub("M","000000",.) %>%
gsub("K","000",.) %>%
gsub("\\.", "",.) %>%
as.numeric()
lastvideo <- meta$X5 %>%
gsub("Latest Video: ", "",.) %>%
mdy("%b %d %Y") %>%
na.omit()
description <- cbind.data.frame(name, genre, subscribers, videos,
views, lastvideo,link, # link_proizvod, # brand_,
stringsAsFactors = FALSE)
return(description)
}
all <- lapply(links, parser)
links[3:5]
parser(links[3:5])
parser(links[3:5])
proba <- links[3:5]
parser(proba)
all <- lapply(proba, parser)
View(all)
proba <- links[3:10]
all <- lapply(proba, parser)
View(all)
all[[8]]
links <- c(page,
paste0("https://www.channelcrawler.com/eng/results/48267/page:"
,nums,
"/sort:Channel.subscribers/direction:desc"))
links
all <- lapply(links, parser)
nums <- seq(2,49)
links <- c(page,
paste0("https://www.channelcrawler.com/eng/results/48267/page:"
,nums,
"/sort:Channel.subscribers/direction:desc"))
all <- lapply(links, parser)
