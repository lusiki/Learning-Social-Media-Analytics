filter(., !grepl("NA",bigram))
#bigrams_united
bigrams_united %>%
count(FROM,bigram,sort = T) -> topicBigram
bigrams_united %>%
count(bigram, sort = T) %>%
head(45)
bigram_tf_idf %>%
arrange(desc(tf_idf)) %>%
filter(tf_idf > 0.09) %>%
mutate(bigram = factor(bigram, levels = rev(unique(bigram)))) %>%
#  group_by(FROM) %>%
#  top_n(20) %>%
ungroup() %>%
ggplot(aes(bigram, tf_idf, fill = FROM)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
#  facet_wrap(~FROM, ncol = 2, scales = "free") +
coord_flip() +
theme_economist()
# Najvažniji bigrami po domenama
bigram_tf_idf <- bigrams_united %>%
#  filter (!is.na(bigram)) %>%
count(FROM, bigram) %>%
bind_tf_idf(bigram, FROM, n) %>%
arrange(desc(tf_idf))
i
bigram_tf_idf %>%
arrange(desc(tf_idf)) %>%
filter(tf_idf > 0.09) %>%
mutate(bigram = factor(bigram, levels = rev(unique(bigram)))) %>%
#  group_by(FROM) %>%
#  top_n(20) %>%
ungroup() %>%
ggplot(aes(bigram, tf_idf, fill = FROM)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
#  facet_wrap(~FROM, ncol = 2, scales = "free") +
coord_flip() +
theme_economist()
bigram_tf_idf %>%
filter(FROM %in% c("vecenji.hr", "jutarnji.hr", "24sata.hr", "telegram.hr")) %>%
arrange(desc(tf_idf)) %>%
mutate(bigram = factor(bigram, levels = rev(unique(bigram)))) %>%
group_by(FROM) %>%
top_n(20) %>%
ungroup() %>%
ggplot(aes(bigram, tf_idf, fill = FROM)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~FROM, ncol = 2, scales = "free") +
coord_flip() +
theme_economist()
n_tokenTidy %>%
count(FROM, word, sort = TRUE) %>%
cast_dtm(FROM, word,n) -> dtm
fb_LDA <- LDA(dtm, k = 4,  control = list(seed = 1234))
fb_LDA_tidy <- tidy(fb_LDA, matrix = "beta")
#newsCOVID_LDA_tidy
insta_terms <- fb_LDA_tidy %>%
drop_na(.) %>%
group_by(topic) %>%
top_n(15, beta) %>%
ungroup() %>%
arrange(topic, -beta)
#newsCOVID_terms
insta_terms %>%
mutate(term = reorder_within(term, beta, topic)) %>%
ggplot(aes(term, beta, fill = factor(topic))) +
geom_col(show.legend = FALSE) +
facet_wrap(~ topic, scales = "free") +
coord_flip() +
scale_x_reordered() +
theme_economist()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dt %>% filter(SOURCE_TYPE == "twitter") ->dp
write.csv2(df_filtered, file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
write.csv2(dp, file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
write.csv(slice(dp,1000), file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
write.xlsx(slice(dp,1000), file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
write.xlsx(slice(dp,1000), file = "D:/LUKA/Freelance/Mediatoolkit/Dp.xlsx", row.names = T)
write.csv2(slice(dp,1000), file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
slice(dp,1000) -> dp
slice(dt,1:1000) -> dp
write.csv2(dp, file = "D:/LUKA/Freelance/Mediatoolkit/Dp.csv", row.names = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(str_detect(AUTHOR,fixed("sponzorirani sadržaj",ignore_case = TRUE)))
dta <- dt[SOURCE_TYPE == "web" &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
View(dta)
unique(dta$FROM)
dta %>% count(FROM)
dta %>% count(FROM) %>% arrange(desc(n))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dta <- dt[SOURCE_TYPE == "web" &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
dta <- dt[SOURCE_TYPE == "web" &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
uniqe(dta$FROM)
unique(dta$FROM)
portali <- c("index.hr","24sata.hr", "jutarnji.hr", "net.hr", "tportal.hr", "vecernji.hr", "jutarnji.hr", "slobodnadalmacija.hr", "telegram.hr")
dta <- dt[SOURCE_TYPE == "web" &
FROM %in%  portali &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("PR", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
write.csv2(dta, file = "D:/LUKA/Freelance/Mediatoolkit/native.csv", row.names = T)
write.csv(dta, file = "D:/LUKA/Freelance/Mediatoolkit/native.csv", row.names = T)
write.xlsx(dta, file = "D:/LUKA/Freelance/Mediatoolkit/native.xlsx", row.names = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
tw <- dt[SOURCE_TYPE == "twitter"]
tw <- dt[SOURCE_TYPE == "twitter"] %>%
slice(1:2000)
write.xlsx(tw, file = "D:/LUKA/Freelance/Mediatoolkit/tw.xlsx", row.names = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
search_pattern <- "rat|ukrajin|rus|izbjegl|Bosn|BiH|NATO|inflacij|eur|kun|plenk|zok|milan|horvat|tolusi|toluši|aladrovi|franciskovi|mari|dorh|uskok|pernar|remetin|INA|žalac|zalac|vreć|vrec|vreč|iseljen|migracij|emigracij|imigracij|mirovin|penzi|umirovlj|plin|naft|goriv|dizel|benzin|covid|coron|obuk|vojni|hrgovi|svjetsk|prvenstv|livakovi|modri|livaj|dali|lovren|periš|peris|potres|požar|nesreć|torcid|bbb|boys|stanovni|dron|raket|pokolj|obnov|Tomasevi|Tomaševi|možemo|mozemo|plać|plac|prihod|avion|projektil"
tw <- dt[SOURCE_TYPE == "twitter" &
(str_detect(FULL_TEXT, fixed(search_pattern,ignore_case = TRUE)))]
tw <- dt[,SOURCE_TYPE == "twitter"]
tw <- dt[SOURCE_TYPE == "twitter"]
tw_pek <- tw[str_detect(FULL_TEXT, fixed("rat|ukrajin",ignore_case = TRUE)))]
tw_pek <- tw[str_detect(FULL_TEXT, fixed("rat|ukrajin",ignore_case = TRUE))]
tw_pek <- tw[str_detect(FULL_TEXT, fixed("rat",ignore_case = TRUE))]
tw_pek <- tw[str_detect(FULL_TEXT, fixed("rat|ukrajin|rus",ignore_case = TRUE))]
tw_pek <- tw[str_detect(FULL_TEXT, fixed("rat",ignore_case = TRUE))]
View(tw_pek)
search_pattern <- "rat|ukrajin|rus|izbjegl|Bosn|BiH|NATO|inflacij|eur|kun|plenk|zok|milan|horvat|tolusi|toluši|aladrovi|franciskovi|mari|dorh|uskok|pernar|remetin|INA|žalac|zalac|vreć|vrec|vreč|iseljen|migracij|emigracij|imigracij|mirovin|penzi|umirovlj|plin|naft|goriv|dizel|benzin|covid|coron|obuk|vojni|hrgovi|svjetsk|prvenstv|livakovi|modri|livaj|dali|lovren|periš|peris|potres|požar|nesreć|torcid|bbb|boys|stanovni|dron|raket|pokolj|obnov|Tomasevi|Tomaševi|možemo|mozemo|plać|plac|prihod|avion|projektil"
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, fixed(search_pattern, ignore_case = TRUE)))
tw <- dt[SOURCE_TYPE == "twitter"]
search_pattern <- "rat|ukrajin|rus"
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, fixed(search_pattern, ignore_case = TRUE)))
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, (search_pattern, ignore_case = TRUE)))
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, search_pattern, ignore_case = TRUE))
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, search_pattern)
search_pattern <- "rat"
search_pattern <- "rat"
filtered_df <- tw %>% filter(str_detect(FULL_TEXT, search_pattern)
filtered_dt <- tw[FULL_TEXT %like% search_pattern, ignore.case = TRUE]
search_pattern <- "rat|ukrajin|rus|izbjegl|Bosn|BiH|NATO|inflacij|eur|kun|plenk|zok|milan|horvat|tolusi|toluši|aladrovi|franciskovi|mari|dorh|uskok|pernar|remetin|INA|žalac|zalac|vreć|vrec|vreč|iseljen|migracij|emigracij|imigracij|mirovin|penzi|umirovlj|plin|naft|goriv|dizel|benzin|covid|coron|obuk|vojni|hrgovi|svjetsk|prvenstv|livakovi|modri|livaj|dali|lovren|periš|peris|potres|požar|nesreć|torcid|bbb|boys|stanovni|dron|raket|pokolj|obnov|Tomasevi|Tomaševi|možemo|mozemo|plać|plac|prihod|avion|projektil"
filtered_dt <- tw[FULL_TEXT %like% search_pattern, ignore.case = TRUE]
filtered_dt <- tw[FULL_TEXT %like% search_pattern]
View(filtered_dt)
write.xlsx(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.xlsx", row.names = T)
write.xlsx(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.xlsx", row.names = T)
View(filtered_dt)
write.csv2(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.csv", row.names = T)
write.csv(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.csv", row.names = T)
write.xlsx2(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.xlsx", row.names = T)
write.xlsx(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.xlsx", row.names = T)
write_csv2(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.csv", row.names = T)
write.csv2(filtered_dt, file = "D:/LUKA/Freelance/Mediatoolkit/tw_pekec.csv", row.names = T)
portali <- c("index.hr","24sata.hr", "jutarnji.hr", "net.hr", "tportal.hr", "vecernji.hr", "jutarnji.hr", "slobodnadalmacija.hr", "telegram.hr")
dta <- dt[SOURCE_TYPE == "web" &
FROM %in%  portali &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("24ContentHaus",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("Native tim",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("PR", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
dta <- dt[SOURCE_TYPE == "web" &
FROM %in%  portali &
(str_detect(FULL_TEXT, fixed("sadržaj nastao",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzor",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("24ContentHaus",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("Native tim",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("native",ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("tnative",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sadržaj donosi", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("24ContentHaus", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("Native tim", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("sponzorirani sadržaj", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("PR", ignore_case = TRUE)) |
str_detect(AUTHOR, fixed("tnative",ignore_case = TRUE)))]
write.xlsx(dta, file = "D:/LUKA/Freelance/Mediatoolkit/native.xlsx", row.names = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dta <- dt[SOURCE_TYPE == "web" &
FROM == "24sata.hr]
dta <- dt[,SOURCE_TYPE == "web" &
+               FROM == "24sata.hr]
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(str_detect(FULL_TEXT,fixed("jedno slavensko ratničko pleme",ignore_case = TRUE)))
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr")
View(dta)
dta  %>% filter(str_detect(TITLE,fixed("Stopama hrvatskih legendi",ignore_case = TRUE)))
dch <-dta  %>% filter(str_detect(TITLE,fixed("Stopama hrvatskih legendi",ignore_case = TRUE)))
View(dch)
View(dta)
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "tportal")
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "tportal.hr")
dch <-dta  %>% filter(str_detect(TITLE,fixed("Kako snimiti najbolju",ignore_case = TRUE)))
dch <-dta  %>% filter(str_detect(FULL_TEXT,fixed("Doista pratimo trendove",ignore_case = TRUE)))
dch <- dta  %>% filter(str_detect(TITLE,fixed("Pitali smo našeg",ignore_case = TRUE)))
str(dta)
dta  %>% filter(DATE == "2022-18-02")
dta  %>% filter(DATE == "2022-02-18")
dch <- dta  %>% filter(DATE == "2022-02-18")
dch
dch
View(dch)
dch <- dta  %>% filter(str_detect(URL,fixed("native",ignore_case = TRUE)))
dch <- dt  %>% filter(str_detect(URL,fixed("native",ignore_case = TRUE)))
dch <- dt  %>% filter(str_detect(URL,fixed("promo",ignore_case = TRUE)))
dch %>% filter(FROM == "24sata.hr")
proba <-dch %>% filter(FROM == "24sata.hr")
View(proba)
proba  %>% filter(DATE == "2022-04-29")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr")
filter(str_detect(URL,fixed("promo",ignore_case = TRUE)))
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr") %>%
filter(str_detect(URL,fixed("promo",ignore_case = TRUE)))
View(dta)
write.csv2(dta, file = "D:/LUKA/Freelance/Mediatoolkit/promo24h.csv", row.names = T)
write.xlsx(dta, file = "D:/LUKA/Freelance/Mediatoolkit/promo24h.xlsx", row.names = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(xlsx)
library(here)
library(kableExtra)
library(DT)
library(purrr)
library(data.table)
library(tidytext)
library(dplyr)
library(lubridate)
library(anytime)
library(grid)
library(wordcloud)
library(reshape2)
library(ggraph)
library(widyr)
library(topicmodels)
library(ggthemes)
# fullDta <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_NOTXT.csv")
# fullDtaTxt <- fread("D:/LUKA/Freelance/Mediatoolkit/FULLDATA_TXT.csv")
dt <- fread("D:/LUKA/Freelance/Mediatoolkit/MktFULLtxt.csv")
dt <- dt %>% filter(SOURCE_TYPE == "web")
tportal <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "tportal.hr")
dta1 <- tportal %>%
filter(str_detect(AUTHOR,fixed("native",ignore_case = TRUE)))
dta1 <- tportal %>%
filter(str_detect(AUTHOR,fixed("tnative",ignore_case = TRUE)))
net <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "net.hr")
dta1 <- net %>%
filter(str_detect(FULL_TEXT,fixed("RTL native",ignore_case = TRUE)))
dta1 <- net %>%
filter(str_detect(FULL_TEXT,fixed("profesionalnim",ignore_case = TRUE)))
View(dta1)
dta1 <- net %>%
filter(str_detect(FULL_TEXT,fixed("native tima Net.hr",ignore_case = TRUE)))
net <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr")
dchour <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr")
dta1 <- dchour %>%
filter(str_detect(FULL_TEXT,fixed("Powered by",ignore_case = TRUE)))
View(dta1)
write.xlsx(dta1, file = "D:/LUKA/Freelance/Mediatoolkit/powered_by_24h.xlsx", row.names = T)
dta <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(str_detect(FULL_TEXT,fixed("Sadržaj nastao",ignore_case = TRUE)))
View(dta)
knitr::opts_chunk$set(echo = TRUE)
dta <- dt[SOURCE_TYPE == "web" &
(str_detect(FULL_TEXT, fixed("biskup",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("crkva",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("isus",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("nadbiskup",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("katoločki",ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("kršćanski", ignore_case = TRUE)) |
str_detect(FULL_TEXT, fixed("kaptol", ignore_case = TRUE)))]
View(dta)
View(dta)
test <- dt %>%
#  filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr") %>%
filter(str_detect(URL,fixed("836688",ignore_case = TRUE)))
test <- dt %>%
#  filter(SOURCE_TYPE =="web")  %>%
#  filter(FROM == "24sata.hr") %>%
filter(str_detect(URL,fixed("836688",ignore_case = TRUE)))
range(dt$DATE)
test <- dt %>%
#  filter(SOURCE_TYPE =="web")  %>%
#  filter(FROM == "24sata.hr") %>%
filter(str_detect(URL,fixed("https://www.24sata.hr/native-sadrzaj/vodic-za-sve-sto-ne-smijete-propustiti-ako-boravite-na-srednjem-jadranu-836688",ignore_case = TRUE)))
dchour <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr") %>%
filter(DATE== "2022-05-19")
View(dchour)
dchour <- dt %>%
filter(SOURCE_TYPE =="web")  %>%
filter(FROM == "24sata.hr") %>%
filter(DATE== "2022-05-19") %>%
filter(str_detect(URL, fixed("native",ignore_case = TRUE)))
View(dchour)
